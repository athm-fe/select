/*!
 * @autofe/select v0.1.2
 * (c) 2018 Autohome Inc.
 * Released under the MIT License.
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],e):(t.AutoFE=t.AutoFE||{},t.AutoFE.Select=e(t.jQuery))}(this,function(t){"use strict";t=t&&t.hasOwnProperty("default")?t.default:t;var e="select",i="fe.select",s="."+i,o=t.fn[e],a={INIT:"init"+s,SHOW:"show"+s,SHOWN:"shown"+s,HIDE:"hide"+s,HIDDEN:"hidden"+s,CHANGE:"change"+s,CLICK:"click"+s,CLICK_DISMISS:"click.dismiss"+s,CLICK_DATA_API:"click"+s+".data-api"},n='[data-toggle="select"]',l="[data-value]",d="data-text",r="data-value";function h(e,i){this.options=t.extend({},h.Default,i),this.$elem=t(e),this.$picker=t(this.options.selectPicker,this.$elem),this.$value=t(this.options.selectValue,this.$elem),this.$dropdown=t(this.options.selectDropdown,this.$elem),this.isActive=!1,this.isDisabled=!1,this._data=null,this._init()}function c(e){return this.each(function(){var s=t(this),o=s.data(i),a=t.extend({},h.Default,s.data(),"object"==typeof e&&e);if(o||(o=new h(this,a),s.data(i,o)),"string"==typeof e){if("undefined"==typeof o[e])throw new TypeError('No method named "'+e+'"');o[e]()}})}return h.Default={selectPicker:"[data-select-picker]",selectValue:"[data-select-value]",selectDropdown:"[data-select-dropdown]",selectedClass:"selected",disabledClass:"disabled",activeClass:"active"},h.prototype._init=function(){var e=this;e.$elem.trigger(a.INIT,e),e.$picker.on(a.CLICK,t.proxy(e.toggle,e)),e.$dropdown.on(a.CLICK,l,function(){var i=t(this);return e.setValue({text:i.attr(d),value:i.attr(r)}),e.hide(),!1}),t(document).on(a.CLICK_DISMISS,function(i){0===t(i.target).closest(e.$elem).length&&e.isActive&&e.hide()})},h.prototype.setValue=function(t){var e=this.options.selectedClass;if((this.getValue()||{}).value!==t.value){var i=this.$dropdown.find(l),s=this.$dropdown.find('[data-value="'+String(t.value)+'"]');i.removeClass(e),s.addClass(e),this.$value.text(t.text),this._data={text:t.text,value:t.value},this.$elem.trigger(a.CHANGE,[t,s])}},h.prototype.getValue=function(){return this._data},h.prototype.toggle=function(){this.isActive?this.hide():this.show()},h.prototype.show=function(){var e=this.options.activeClass;if(!this.isDisabled){var i=t.Event(a.SHOW);this.$elem.trigger(i,this),i.isDefaultPrevented()||(this.isActive=!0,this.$elem.addClass(e),this.$dropdown.show(),this.$elem.trigger(a.SHOWN,this))}},h.prototype.hide=function(){var e=this.options.activeClass,i=t.Event(a.HIDE);this.$elem.trigger(i,this),i.isDefaultPrevented()||(this.isActive=!1,this.$elem.removeClass(e),this.$dropdown.hide(),this.$elem.trigger(a.HIDDEN,this))},h.prototype.disable=function(){var t=this.options.disabledClass;this.$elem.addClass(t),this.isDisabled=!0},h.prototype.enable=function(){var t=this.options.disabledClass;this.$elem.removeClass(t),this.isDisabled=!1},t(function(){c.call(t(n))}),t.fn[e]=c,t.fn[e].Constructor=h,t.fn[e].noConflict=function(){return t.fn[e]=o,c},h});