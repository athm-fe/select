/*!
 * select v0.1.0
 * (c) 2018 Autohome Inc.
 * Released under the MIT License.
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],e):(t.AutoFE=t.AutoFE||{},t.AutoFE.Select=e(t.jQuery))}(this,function(t){"use strict";t=t&&t.hasOwnProperty("default")?t.default:t;var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i="select",s="fe.select",o="."+s,n=t.fn[i],a={INIT:"init"+o,SHOW:"show"+o,SHOWN:"shown"+o,HIDE:"hide"+o,HIDDEN:"hidden"+o,CHANGE:"change"+o,CLICK:"click"+o,CLICK_DISMISS:"click.dismiss"+o,CLICK_DATA_API:"click"+o+".data-api"},l='[data-toggle="select"]',r="[data-value]",d="data-text",u="data-value";function h(e,i){this.options=t.extend({},h.Default,i),this.$elem=t(e),this.$picker=t(this.options.selectPicker,this.$elem),this.$value=t(this.options.selectValue,this.$elem),this.$dropdown=t(this.options.selectDropdown,this.$elem),this.isActive=!1,this.isDisabled=!1,this._init()}function c(i){return this.each(function(){var o=t(this),n=o.data(s),a=t.extend({},h.Default,o.data(),"object"===("undefined"==typeof i?"undefined":e(i))&&i);if(n||(n=new h(this,a),o.data(s,n)),"string"==typeof i){if("undefined"==typeof n[i])throw new TypeError('No method named "'+i+'"');n[i]()}})}return h.Default={selectPicker:"[data-select-picker]",selectValue:"[data-select-value]",selectDropdown:"[data-select-dropdown]",selectedClass:"selected",disabledClass:"disabled",activeClass:"active"},h.prototype._init=function(){var e=this;e.$elem.trigger(a.INIT,e),e.$picker.on(a.CLICK,t.proxy(e.toggle,e)),e.$dropdown.on(a.CLICK,r,function(){var i=t(this);return e.setValue({text:i.attr(d),value:i.attr(u)}),e.hide(),!1}),t(document).on(a.CLICK_DISMISS,function(i){0===t(i.target).closest(e.$elem).length&&e.isActive&&e.hide()})},h.prototype.setValue=function(t){var e=this.options.selectedClass;if(this.getValue().value!==t.value){var i=this.$dropdown.find(r),s=this.$dropdown.find('[data-value="'+String(t.value)+'"]');i.removeClass(e),s.addClass(e),this.$value.text(t.text),this.$value.attr(u,t.value),this.$value.attr(d,t.text),this.$elem.trigger(a.CHANGE,[t,s])}},h.prototype.getValue=function(){return{text:this.$value.attr(d),value:this.$value.attr(u)}},h.prototype.toggle=function(){this.isActive?this.hide():this.show()},h.prototype.show=function(){var e=this.options.activeClass;if(!this.isDisabled){var i=t.Event(a.SHOW);this.$elem.trigger(i,this),i.isDefaultPrevented()||(this.isActive=!0,this.$elem.addClass(e),this.$dropdown.show(),this.$elem.trigger(a.SHOWN,this))}},h.prototype.hide=function(){var e=this.options.activeClass,i=t.Event(a.HIDE);this.$elem.trigger(i,this),i.isDefaultPrevented()||(this.isActive=!1,this.$elem.removeClass(e),this.$dropdown.hide(),this.$elem.trigger(a.HIDDEN,this))},h.prototype.disable=function(){var t=this.options.disabledClass;this.$elem.addClass(t),this.isDisabled=!0},h.prototype.enable=function(){var t=this.options.disabledClass;this.$elem.removeClass(t),this.isDisabled=!1},t(function(){c.call(t(l))}),t.fn[i]=c,t.fn[i].Constructor=h,t.fn[i].noConflict=function(){return t.fn[i]=n,c},h});